\chapter{Analysis and Design}

\section{Introduction} % Section 3.1
This chapter will present the analysis and design porition of the project. Identified are the system users and their needs, which are then translated into technical requirements, and finally the system's functional and architectural design is described. Several diagrams are included to aid with visualising the behaviour, workflow, and structure of the system.

\section{User Needs and Requirements} % Section 3.2
When developing any technology it is imperative to have a solid foundation upon which to build on and refer to throughout the development process. It should help provide a clear understanding of the problem, the needs and expectations of the people who will be using it, and give some insight into how the original problem will be solved in the implementation stage. In the case of this project, the users include nurses and doctors, and the patients who will be using the device. There are several different users each with different required levels of control and functionalities, therefore it is crucial to translate their needs into measurable and clearly defined requirements that will steer the design and eventually implementation of the system.

The following pages present two key tables accomplishing that task: the \textbf{User Needs table} (Table \ref{tab:user_needs_table}), and the \textbf{User Requirements table} (Table \ref{tab:user_requirements_table}). The User Needs table outlines what the system should accomplish in simple terms, similar to how an average non-technical person might describe what they need to solve their problem. Each row consists of a unique \textbf{ID} for that particular need, a brief \textbf{Description} of what is needed, and a \textbf{Source} which represents what part of the system this need might be addressed in. The User Requirements table expands upon the User Needs table by translating each need into one or more clear and actionable system requirements. These requirements can be measured as satisfied or not in the final system. Each requirement has a unique \textbf{Req. ID}, a \textbf{User Requirement Name} giving a very short overview of what that requirement is supposed to do, and a \textbf{Description} of the requirement with more specific technical details such as how it might be implemented, what specific numeric constraints are present for it, or what exactly is required to satisfy it from a technical perspective. Following these are the \textbf{Justification/Comment} and the \textbf{Reference} columns. The Justification/Comment column expands a bit on the description and states \textit{why} some of the technical details are as they are, or why the requirement was necessary in the first place. The Reference column links the User Requirements Table to the User Needs table by stating what user need (or what multiple needs) a particular requirement is intended to satisfy.

These tables together give a high-level perspective of what the system must achieve, with some justification as to why certain decisions where taken instead of others.

\input{tables/user_needs_table}
\clearpage
\input{tables/user_requirements_table}
\clearpage

\section{System Behaviour and Workflow} % Section 3.3
\textbf{Note:} Diagrams need some tweaking before I can include them in here.

Use case diagram: Showing interactions between users (nurses, doctors, patients) and the system
\begin{figure}[H]
	\centering
	\includegraphics[width=\textwidth]{diagrams/use_case_diagram}
	\caption{How medical staff and patients each interact with the system}
	\label{fig:use_case_diagram}
\end{figure}

Activity flowchart: Visualise workflow

\section{System Architecture and Design} % Section 3.4

High-Level Architecture Diagram
% High-Level Architecture diagram: Overview of the system from the medical devices to the cloud with the BT module and arduino in the middle

\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{diagrams/high_level_architecture}
\caption{A high level view of the system architecture}
\label{fig:high_level_architecture_diagram}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{diagrams/block_diagram}
\caption{Block diagram showing relationships between high-level components of the system}
\label{fig:block_diagram}
\end{figure}

State diagram: Describing system states (DISCONNECTED, CONNECTED, SETUP, READING, PROCESSING, TRANSMITTING)
\begin{figure}[H]
	\centering
	\includegraphics[width=\textwidth]{diagrams/states_disconnected}
	\caption{State diagram for the DISCONNECTED state}
	\label{fig:states_disconnected}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=\textwidth]{diagrams/states_connected}
	\caption{State diagram for the CONNECTED state}
	\label{fig:states_connected}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=\textwidth]{diagrams/states_setup}
	\caption{State diagram for the SETUP state}
	\label{fig:states_setup}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=\textwidth]{diagrams/states_setup_substates}
	\caption{State diagram for the SETUP sub-states}
	\label{fig:states_setup_substates}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=\textwidth]{diagrams/states_reading}
	\caption{State diagram for the READING state}
	\label{fig:states_reading}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=\textwidth]{diagrams/states_processing}
	\caption{State diagram for the PROCESSING state}
	\label{fig:states_processing}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=\textwidth]{diagrams/states_transmitting}
	\caption{State diagram for the TRANSMITTING state}
	\label{fig:states_transmitting}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{diagrams/schematic_rev2}
\caption{Detailed circuit shcemtatic of all all components in the device}
\label{fig:circuit_diagram}
\end{figure}

\section{User Interface Design} % Section 3.5
\textbf{Note:} Diagrams need some tweaking before I can include them in here.

Navigation Flow diagram: Show how a user might navigate around the device menus

Will discuss about usability and simplicity

\section{Project Planning} % Section 3.6
\textbf{Note:} Diagrams need some tweaking before I can include them in here.

Gantt chart here

Will discuss how project timeline led to certain design decisions being made

\section{Summary} % Section 3.7
This chapter expanded on the design of the system, starting from the user needs analysis, behaviour of the system, system architecture, and design of the interface. The provided diagrams show the organisation of the system, laying the foundation for the implementation which will be discussed in detail in the next chapter.
